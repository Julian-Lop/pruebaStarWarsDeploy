{"ast":null,"code":"import _asyncToGenerator from\"E:/FULL STACK/proyectos/pruebaStarWars-OnClick/front-starwars/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/FULL STACK/proyectos/pruebaStarWars-OnClick/front-starwars/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\FULL STACK\\\\proyectos\\\\pruebaStarWars-OnClick\\\\front-starwars\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{getAllPeople,getCharactersByFiml}from'../Redux/Actions/index.js';import Card from'./Card.js';import LoadingComponent from'./LoadingComponent.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Films(){var dispatch=useDispatch();var filmSW=useSelector(function(state){return state.films;});var characterSW=useSelector(function(state){return state.characters;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),flag=_useState2[0],setflag=_useState2[1];useEffect(function(){var functionAsync=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(filmSW.results&&characterSW.length<79)){_context.next=9;break;}i=1;case 2:if(!(i<9)){_context.next=8;break;}_context.next=5;return dispatch(getAllPeople(i));case 5:i++;_context.next=2;break;case 8:setflag(true);case 9:case\"end\":return _context.stop();}}},_callee);}));return function functionAsync(){return _ref.apply(this,arguments);};}();functionAsync();},[filmSW]);useEffect(function(){if(flag){dispatch(getCharactersByFiml());setflag(false);}},[flag]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Films \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-film\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Films\",children:filmSW.results?filmSW.results.map(function(film){return/*#__PURE__*/_jsx(Card,{title:film.title,info:characterSW?film.people:null},film.episode_id);}):/*#__PURE__*/_jsx(LoadingComponent,{})})]});}","map":{"version":3,"sources":["E:/FULL STACK/proyectos/pruebaStarWars-OnClick/front-starwars/src/Components/Films.js"],"names":["React","useEffect","useState","useDispatch","useSelector","getAllPeople","getCharactersByFiml","Card","LoadingComponent","Films","dispatch","filmSW","state","films","characterSW","characters","flag","setflag","functionAsync","results","length","i","map","film","title","people","episode_id"],"mappings":"qcAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,CAAuBC,mBAAvB,KAAkD,2BAAlD,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uBAA7B,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC5B,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,MAAM,CAAIP,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAjB,EAAD,CAA3B,CACA,GAAMC,CAAAA,WAAW,CAAGV,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACG,UAAjB,EAAD,CAA/B,CAEA,cAAwBb,QAAQ,CAAC,KAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eAEAhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,CAAAA,aAAa,0FAAG,8IACfP,MAAM,CAACQ,OAAP,EAAkBL,WAAW,CAACM,MAAZ,CAAqB,EADxB,0BAENC,CAFM,CAEJ,CAFI,aAEDA,CAAC,CAAG,CAFH,gDAGRX,CAAAA,QAAQ,CAACL,YAAY,CAACgB,CAAD,CAAb,CAHA,QAEMA,CAAC,EAFP,8BAKlBJ,OAAO,CAAC,IAAD,CAAP,CALkB,sDAAH,kBAAbC,CAAAA,aAAa,0CAAnB,CAQAA,aAAa,GAChB,CAVQ,CAUP,CAACP,MAAD,CAVO,CAAT,CAYAV,SAAS,CAAC,UAAM,CACZ,GAAGe,IAAH,CAAQ,CACJN,QAAQ,CAACJ,mBAAmB,EAApB,CAAR,CACAW,OAAO,CAAC,KAAD,CAAP,CACH,CACJ,CALQ,CAKP,CAACD,IAAD,CALO,CAAT,CAOA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,4CAAU,UAAG,KAAK,CAAC,aAAT,EAAV,GADJ,cAEI,YAAK,SAAS,CAAC,OAAf,UACKL,MAAM,CAACQ,OAAP,CAAiBR,MAAM,CAACQ,OAAP,CAAeG,GAAf,CAAmB,SAAAC,IAAI,qBAAI,KAAC,IAAD,EAA4B,KAAK,CAAEA,IAAI,CAACC,KAAxC,CAA+C,IAAI,CAAGV,WAAW,CAAGS,IAAI,CAACE,MAAR,CAAiB,IAAlF,EAAWF,IAAI,CAACG,UAAhB,CAAJ,EAAvB,CAAjB,cAAwI,KAAC,gBAAD,IAD7I,EAFJ,GADJ,CAQH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAllPeople, getCharactersByFiml } from '../Redux/Actions/index.js'\r\nimport Card from './Card.js'\r\nimport LoadingComponent from './LoadingComponent.js'\r\n\r\nexport default function Films() {\r\n    const dispatch = useDispatch()\r\n\r\n    const filmSW =  useSelector((state) => state.films)\r\n    const characterSW = useSelector((state) => state.characters)\r\n\r\n    const [flag, setflag] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const functionAsync = async () =>{\r\n            if(filmSW.results && characterSW.length < 79){\r\n                for(let i=1; i < 9; i++){\r\n                await dispatch(getAllPeople(i)) \r\n                }\r\n            setflag(true)\r\n            }\r\n        }\r\n        functionAsync()\r\n    },[filmSW])\r\n\r\n    useEffect(() => {\r\n        if(flag){\r\n            dispatch(getCharactersByFiml())\r\n            setflag(false)\r\n        }\r\n    },[flag])\r\n\r\n    return (\r\n        <div className='Container'>\r\n            <h1>Films <i class=\"fas fa-film\"></i></h1>\r\n            <div className='Films'>\r\n                {filmSW.results ? filmSW.results.map(film => <Card key={film.episode_id} title={film.title} info={ characterSW ? film.people : null}/>): <LoadingComponent/>}\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}